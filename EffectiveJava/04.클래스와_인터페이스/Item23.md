## 23. 태그 달린 클래스보다는 클래스 계층구조를 활용하라

### 태그 달린 클래스

- 현재 표현하는 의미를 태그 값으로 알려주는 클래스
- 장황하고 오류를 내기 쉽고 비효율적이다.
- 클래스 계층구조를 어설프게 흉내낸 아류일 뿐이다.



### 클래스 계층 구조

- 간결하고 명확하며 쓸데없는 코드들이 거의 없다.
- 각 클래스의 생성자가 모든 필드를 남김없이 초기화하고 추상 메서드를 모두 구현했는지 컴파일러가 확인해준다.
- 루트 클래스의 코드를 건드리지 않고도 다른 프로그래머들이 독립적으로 계층구조를 확장하고 함께 사용할 수 있다.
- 타입이 의미별로 따로 존재하니 변수의 의미를 명시하거나 제한할 수 있고 특정 의미만 매개변수로 받을 수 있다.
- 타입 사이의 계층 관계를 반영할 수 있어 유연성을 물론 컴파일타임 타입 검사 능력을 높여준다.



### 핵심

- 태그 달린 클래스를 써야 하는 상황은 거의 없다.
- 태그필드가 있다면 태그를 없애고 계층구조로 대체하는 방법을 사용하는 것이 좋다.
- 기존 클래스가 태그 필드를 사용고 있다면 계층구조로 리팩터링 하는 것이 좋다