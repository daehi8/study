## 52. 다중정의는 신중히 사용하라

### 다중정의

- 다중정의한 메서드는 정적으로 선택된다.
- 다중정의된 메서드 사이에서 객체의 런타임 타입은 전혀 중요하지 않다.
- 선택은 컴파일타임에 오직 매개변수의 컴파일타임 타입에 의해 이뤄진다.
- 다중정의한 메서드는 기대한대로 동작하지 않을 수 있기 때문에 혼동을 일으키는 상황은 피해야 한다.



### 재정의

- 재정의한 메서드는 동적으로 선택된다.
- 메서드를 재정의했다면 해당 객체의 런타임 타입이 어떤 메서드를 호출할지의 기준이 된다.
- 메서드 재정의란 상위 클래스가 정의한 것과 똑같은 시그니처의 메서드를 하위 클래스에서 다시 정의한 것을 말한다.
- 메서드를 재정의한 다음 하위클래스의 인스턴스에서 그 메서드를 호출하면 재정의한 메서드가 실행된다.
- 컴파일 타임에 그 인스턴스의 타입이 무엇이었냐는 상관없다.



### 다중정의 주의점

- 안전하고 보수적으로 가려면 매개변수 수가 같은 다중정의는 만들지 말자.
- 다중정의하는 대신 메서드 이름을 다르게 지어주는 길도 항상 열려 있다.



### 예외

- 생성자는 이름을 다르게 지을 수 없으니 두 번째 생성자부터 무조건 다중정의가 된다. 
- 하지만 정적 팩터리를 대안으로 쓸 수도 있고, 애초에 생성자는 재정의 할 수 없으니 다중정의와 재정의가 혼용될 가능성이 없다.
- 매개변수 수가 같은 다중정의 메서드가 많더라도, 그중 어느 것이 주어진 매개변수 집합을 처리할지 명확히 구분된다면 헷갈릴 일은 없다.



### 핵심

- 프로그래밍 언어가 다중정의를 허용한다고 해서 꼭 활요하라는 뜻은 아니다.
- 일반적으로 매개변수 수가 같을 때는 다중정의를 피하는 것이 좋다.
- 헷갈릴 만한 매개변수는 형변환하여 정확한 다중정의 메서드가 선택되도록 해야 하며 불가능하다면 예컨데 기존 클래스를 수정해 새로운 인터페이스를 구현해야 할 때는 같은 객체를 입력받는 다중정의 메서드들이 모두 동일하게 동작하도록 만들어야 한다.