## 26. 로 타입은 사용하지 말라

### 제네릭 타입

- 클래스와 인터페이스 선언에 타입 매개변수가 스이면 이를 제네릭 클래스 혹은 제네릭 인터페이스 라고 한다.
- 제네릭 클래스와 제네릭 인터페이스를 통틀어 제네릭 타입이라고 한다.



### 매개변수화 타입

- 각각의 제네릭 타입은 일련의 매개변수화 타입을 정의한다.
- 먼저 클래스 이름이 나오고 이어서 꺾쇠괄호 안에 실제 타입 매개변수들을 나열한다.
- List<String>은 원소의 타입이 String인 리스트를 뜻하는 매개변수화 타입이다.
- 여기서 String이 정규타입 매개변수 E에 해당하는 실제 타입 매개변수다.



### 로 타입

- 제네릭 타입을 하나 정의하면 그에 딸린 로 타입도 함께 정의된다.
- 로 타입이란 제네릭 타입에서 타입 매개변수를 전혀 사용하지 않을 때를 말한다.
- 예컨데 List<E>의 로 타입은 List다.
- 로 타입을 쓰는 것을 언어 차원에서 막아 놓지는 않았지만 절대로 써서는 안 된다.
- 로 타입을 쓰면 제네릭이 안겨주는 안전성과 표현력을 모두 잃게 된다.



### 임의 객체

- 로 타입은 제네릭 타입에서 완전히 발을 뺀 것이며 임의 객체는 모든 타입을 허용한다는 의사를 컴파일러에게 명확히 전달한 것이다.
- List<Object>와 같은 매개변수화 타입을 사용할 때와 달리 List 같은 로 타입을 사용하면 타입 안전성을 잃게 된다.



### 비한정적 와일드카드

- 제네릭 타입을 쓰고 싶지만 실제 타입 매개변수가 무엇인지 신경 쓰고 싶지 않다면 물음표(?)를 사용하면 좋다.
- 제네릭 타입인 Set<E>의 비한정적 와일드카드 타입은 Set<?>다.
- 어떤 타입이라도 담을 수 있는 가장 범용적인 매개변수화 Set 타입이다.
- 와일드 카드 타입은 컴파일러가 제 역할을 하게 하기 때문에 안전하다.



### class 리터럴

- class 리터럴에는 로 타입을 써야 한다.
- 자바 명세는 class 리터럴에 매개변수화 타입을 사용하지 못하게 했다.



### instanceof

- 런타임에는 제네릭 타입정보가 지워지므로 instanceof 연산자는 비한정적 와일드카드 타입 이외의 매개변수화 타입에는 적용할 수 없다.
- 로 타입이든 비한정적 와일드카드 타입이든 instanceof는 똑같이 동작한다.



### 용어 정리

| 한글 용어                | 영문 용어              | 예                               | 아이템      |
| ------------------------ | ---------------------- | -------------------------------- | ----------- |
| 매개변수화 타입          | parameterized type     | List<String>                     | 아이템26    |
| 실제 타입 매개변수       | actual type parameter  | String                           | 아이템26    |
| 제네릭 타입              | generic type           | List<E>                          | 아이템26,29 |
| 정규 타입 매개변수       | formal type parameter  | E                                | 아이템26    |
| 비한정적 와일드카드 타입 | ynbounded wildcard typ | List<?>                          | 아이템26    |
| 로 타입                  | raw type               | List                             | 아이템26    |
| 한정적 타입 매개변수     | bounded type parameter | <E extends Nuber>                | 아이템29    |
| 재귀적 타입 한정         | recursive tpye bound   | <T extends Comparable<T>>        | 아이템30    |
| 한정적 와일드카드 타입   | bounded wildcard type  | List<? extends Number>           | 아이템31    |
| 제네릭 메서드            | generic method         | static <E> List<E> asList(E[] a) | 아이템30    |
| 타입 토큰                | type token             | String.class                     | 아이템33    |

